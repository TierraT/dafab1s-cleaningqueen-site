<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>The Cleaning Queen's Guide</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- IMPORTANT: replace YOUR_CLIENT_ID with your Live PayPal Client ID before deploying -->
  <script src="https://www.paypal.com/sdk/js?client-id=YOUR_CLIENT_ID&currency=USD"></script>
</head>
<body>
  <header class="hero">
    <h1>The Cleaning Queen's Guide: Turning Dust into Dollars</h1>
    <p class="byline">By Tierra — Founder &amp; CEO of DaFab1s Cleaning Service</p>
    <div class="banner-wrap">
      <img src='assets/banner.png' alt='eBook banner' />
    </div>
    <div id="paypal-button-container"></div>
    <button id="fallback-buy" class="buy-btn">Buy Now — $19.99</button>
  </header>

  <main class="content">
    <section>
      <h2>About the Book</h2>
      <p>Learn how Tierra built a thriving cleaning empire from humble beginnings — starting with Dollar Tree supplies and unstoppable determination.</p>
    </section>
  </main>

  <footer class="footer">
    <p>Contact: dafab1scleaningservice@gmail.com • Facebook: DaFab1s Cleaning Service</p>
  </footer>

<script>
// Replace with your Google Drive link for the eBook download
const ebookDownloadUrl = "https://thankyou.html/file/d/1rmP04dAKpjirKa5aDUMsQHfzWifahpTq/view?usp=sharing";

// Render PayPal buttons if sdk loaded
function initPayPal() {
  if (!window.paypal) return;
  if (document.getElementById('paypal-button-container').children.length) return;
  window.paypal.Buttons({
    style: {{ layout: 'vertical', color: 'gold', shape: 'pill', label: 'buynow' }},
    createOrder: function(data, actions) {
      return actions.order.create({
        purchase_units: [{ amount: { value: '19.99' } }]
      });
    },
    onApprove: function(data, actions) {
      return actions.order.capture().then(function(details) {
        // Redirect buyer to the eBook link
        window.location.href = ebookDownloadUrl;
      });
    },
    onError: function(err) {
      console.error('PayPal error', err);
      alert('There was an error with PayPal. Please try again later.');
    }
  }).render('#paypal-button-container');
}

// Wait for PayPal SDK to load (or try init periodically)
if (window.paypal) initPayPal();
else {
  const poll = setInterval(() => {
    if (window.paypal) { clearInterval(poll); initPayPal(); }
  }, 300);
}

// Fallback buy button - opens PayPal checkout page (link to your PayPal payment page could be inserted)
document.addEventListener('DOMContentLoaded', function() {
  document.getElementById('fallback-buy').addEventListener('click', function() {
    alert('If PayPal does not initialize in preview, please open the live site to complete purchase.');
  });
});
</script>
</body>
</html>
